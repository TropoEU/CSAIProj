{
    "name": "csaiproj",
    "version": "1.0.0",
    "scripts": {
      "startall": "npm-run-all --parallel backend admin widget customer",
      "stopall": "node scripts/stopall.js",
      "//stopall": "Stop all services started by startall",

        "//": "=== BACKEND SERVER ===",
        "start": "node backend/src/index.js",
        "//start": "Start the Express backend server (alias for backend)",
        "backend": "node backend/src/index.js",
        "//backend": "Start the Express backend server",

        "//0": "=== FRONTEND ===",
        "widget": "cd frontend/widget && npm run dev",
        "//widget": "Start the chat widget dev server (port 3001)",
        "admin": "cd frontend/admin && npm run dev",
        "//admin": "Start the admin dashboard dev server (port 3002)",
        "customer": "cd frontend/customer && npm run dev",
        "//customer": "Start the customer dashboard dev server (port 3003)",

        "//1": "=== DATABASE MIGRATIONS ===",
        "migrate": "cd backend && node src/scripts/migrate.js up",
        "//migrate": "Apply all pending database migrations",
        "migrate:down": "cd backend && node src/scripts/migrate.js down",
        "//migrate:down": "Rollback the last applied migration",
        "migrate:status": "cd backend && node src/scripts/migrate.js status",
        "//migrate:status": "Show which migrations are applied vs pending",
        
        "//2": "=== TESTING ===",
        "test": "cd backend && node tests/integration/all-models.test.js",
        "//test": "Run comprehensive integration tests (all 9 models)",
        "test:unit": "cd backend && npm run test:unit",
        "//test:unit": "Run unit tests with Vitest",
        "test:models": "cd backend && node tests/models/Client.test.js",
        "//test:models": "Run quick Client model test only",
        "test:redis": "cd backend && node tests/services/redisCache.test.js",
        "//test:redis": "Run Redis cache service tests",
        "test:all": "cd backend && node tests/integration/all-models.test.js",
        "//test:all": "Same as 'pnpm test' - runs all model tests",
        "test:llm": "cd backend && node tests/services/llmService.test.js",
        "//test:llm": "Run LLM service tests (requires Ollama or API keys)",
        "test:llm:ci": "cd backend && node tests/services/llmService.ci.test.js",
        "//test:llm:ci": "Run LLM service tests for CI (requires GROQ_API_KEY)",
        "test:phase2": "cd backend && node tests/integration/phase2-full-test.js",
        "//test:phase2": "Run Phase 2 integration test (AI conversation flow)",
        "test:phase3": "cd backend && node tests/integration/phase3-full-test.js",
        "//test:phase3": "Run Phase 3 integration test (tool execution system)",
        "test:phase6": "cd backend && node tests/integration/phase6-full-test.js",
        "//test:phase6": "Run Phase 6 integration test (billing, usage tracking, analytics)",

        "//5": "=== LINTING ===",
        "lint": "cd backend && npm run lint",
        "//lint": "Run ESLint on backend code",
        "lint:fix": "cd backend && npm run lint:fix",
        "//lint:fix": "Run ESLint with auto-fix",
        "format": "cd backend && npm run format",
        "//format": "Format code with Prettier",
        "format:check": "cd backend && npm run format:check",
        "//format:check": "Check Prettier formatting without modifying files",
        "mockdata": "cd backend && node src/scripts/generateMockData.js",
        "//mockdata": "Generate mock data for Phase 6 testing (clients, usage, invoices)",
        "mock:integrations": "cd backend && node add-mock-integrations.js",
        "//mock:integrations": "Add mock integrations (Shopify, WooCommerce, etc.) to existing clients",

        "//3": "=== DOCKER ===",
        "dockerup": "docker compose --env-file ./backend/.env -f ./docker/docker-compose.yml up -d",
        "//dockerup": "Start Docker containers (Postgres, Redis, n8n) in background",
        "dockerdown": "docker compose --env-file ./backend/.env -f ./docker/docker-compose.yml stop",
        "//dockerdown": "Stop Docker containers (data persists)",
        "dockerclean": "docker compose --env-file ./backend/.env -f ./docker/docker-compose.yml down",

        "//dockerclean": "Stop and remove Docker containers (deletes data!)",

        "//4": "=== CONNECTIVITY ===",
        "check:connections": "cd backend && node tests/check-connections.js",
        "//check:connections": "Check connectivity to all services (Redis, Postgres, n8n)",
        "check:ollama": "cd backend && node tests/check-ollama.js",
        "//check:ollama": "Check Ollama connectivity"
    },
    "devDependencies": {
        "npm-run-all": "^4.1.5"
    }
}
